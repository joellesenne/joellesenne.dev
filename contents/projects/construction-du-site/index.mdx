---
publish: true
date: '2019-07-13'
title: 'Construction du site'
cover: 'construction-du-site.jpg'
category: 'WebSite'
tags:
  - GatsbyJs
  - ReactJs
  - Static
---

> J’ai choisi [Gatsby.js](https://www.gatsbyjs.org/) (un générateur de site statique avec [React.js](https://reactjs.org/)) pour la création du [site](https://joellesenne.xyz).

En effet, depuis longtemps je souhaite créer un site original avec le rendu [HTML / CSS / JS](https://www.w3.org/wiki/The_web_standards_model_-_HTML_CSS_and_JavaScript), j’ai donc appris des langages de programmation sur le Web, PHP, Python, C, Ruby, JavaScript et je me suis orienté vers les [Frameworks](https://en.wikipedia.org/wiki/Web_framework) écrits en Ruby (par exemple [HuGo](https://gohugo.io/) ou [Jekyll](https://jekyllrb.com/)). Les [Frameworks JavaScript](https://medium.com/javascript-scene/top-javascript-frameworks-and-topics-to-learn-in-2019-b4142f38df20) me sont apparus comme une évidence, j’ai commencé par [Angular 2](https://angular.io/), [Vue.js](https://vuejs.org/) et enfin [React.js](https://reactjs.org/).

## Pourquoi Gatsby  et comment fonctionne-t-il ?

L’utilisation de [Gatsby.js](https://www.gatsbyjs.org/) m’a apporté, bien sûr, son lot de problèmes avec la configuration de [node-apis](https://www.gatsbyjs.org/docs/node-apis/) où les [promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) était un concept nouveau pour moi, mais aussi l’organisation des fichiers et l’écriture en [TypeScript](https://www.typescriptlang.org/).

Pour ma part, je trouve [Gatsby.js](https://www.gatsbyjs.org/) intéressant avec l’utilisation d’une base de donnée telle que [GraphQL](https://graphql.org/) qui remplace [MySQL](https://www.mysql.com/), la base de données bien connue de PHP ou Ruby. GraphQL est facile à comprendre avec un peu de pratique. Gatsby automatisme les routes que l’on crée facilement dans le fichier "page/" ou "template/", il simplifie le rendu statique du site avec la création d’un dossier "src/public/" ou l’on retrouve tous les fichiers HTML, JavaScript, mais aussi les images redimensionnées, le logo et les fichiers de référencement qui seront déployés sur un serveur distant. De plus, le plug-in [Helmet](https://www.gatsbyjs.org/packages/@razvan-soare/gatsby-plugin-react-helmet/?=), une fois configuré, me permet de ne plus me soucier de l'optimisation des moteurs de recherche avec [SEO](https://en.wikipedia.org/wiki/Searchengine_optimization) (sur Google par exemple). J'y reviendrais dans d'autres articles sur Gatsby.

L’utilisation de la syntaxe [Markdown](https://www.markdownguide.org/) pour écrire mes articles me permet d’écrire sans me soucier de la [syntaxe HTML](https://developer.mozilla.org/fr/docs/Apprendre/HTML/Balises_HTML). En complément, j’utilise [Mdx](https://mdxjs.com/getting-started/gatsby) pour écrire du JavaScript dans des fichiers de type Markdown. Il existe aussi des systèmes des CMS (Content Management System) et [API](https://en.wikipedia.org/wiki/Application_programming_interface) (application programming interface), avec par exemple [Contentful](https://www.contentful.com/) ou [Prismic](https://prismic.io/) qui vous simplifiera votre travail d’écriture avec une certaine configuration que j'expliquerais prochainement.

Il y a beaucoup de développeurs qui utilisent [React.js](https://reactjs.org/) avec beaucoup de tutoriels, d’articles, de commentaires, et la communauté est importante. Il existe aussi beaucoup de [plug-ins](https://www.gatsbyjs.org/plugins/) qui vous simplifient la vie. L’apprentissage de [Gatsby](https://www.gatsbyjs.org/tutorial/) peut être réalisé en à peine une semaine sans avoir une réelle connaissance du développement Web et de React. Seul bémol : avoir une connaissance de [JavaScript](https://developer.mozilla.org/en-US/docs/Web/JavaScript) et [TypeScript](https://www.typescriptlang.org/).

Il est vrai que depuis la sortie de [TypeScript](https://www.typescriptlang.org/), le développement [Front-end](https://en.wikipedia.org/wiki/Front-end_web_development) s’est beaucoup simplifié. Le compilateur [Babel.js](https://babeljs.io/) transforme des fichiers écrits en TypeScript vers JavaScript compatibles avec tous les navigateurs anciens.[Webpack] (https://webpack.js.org/) est un compilateur moderne de fichier JS vers HTML.

Autre aspect intéressant du Framework, l’écriture du [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS) (Cascading Style Sheets) directement dans les fichiers JavaScript. J’ai par exemple écris du CSS en [CSS-in-JS](<[CSS-in-JS](https://cssinjs.org/)>) (une nouveauté du moment qui crée beaucoup de débats sur le Web). Ce que j’ai trouvé intéressant dans le CSS-in-JS est l'approche du style CSS écrit directement dans les balises HTML : il apporte un chargement plus rapide des pages HTML (ce qui reste bien évidemment relatif avec tout le JavaScript que le Framework comporte) et charge uniquement le style de la page courante.

Puisque l’ont en vient à parler du chargement, parlons de l’optimisation des appareils mobiles. Le Framework Gatsby crée automatiquement une [PWA](https://en.wikipedia.org/wiki/Progressive_web_applications) (Progressive Web App). le principe est assez simple : pendant que vous visionnez une page qui vient de se charger, PWA se charge de terminer le chargement de toutes les vues des autres pages (images et fichiers HTML), ce qui apporte une vraie rapidité sur le chargement du site complet. Les images sont aussi optimisées grâce au plug-in [gatsby-image](https://www.gatsbyjs.org/packages/gatsby-image/) qui redimensionne les images en fonction de la taille des écrans et permet surtout de visiter le site sans recharger le serveur distant, ce qui est une vraie révolution dans le domaine du Front-End.

Enfin, le déploiement du site peut être automatisé grâce à l’utilisation d’un [dépôt Github](https://github.com/), avec [Netlify](https://www.netlify.com/) et [OVH](https://www.ovh.com/fr/) par exemple (j’en parlerais prochainement)

## Liens utiles (en anglais) :

- [React.js](https://reactjs.org/) — site officiel
- [Gatsby.js](https://www.gatsbyjs.org/) — générateur de sites statiques
- [Gatsby Template](https://www.gatsbyjs.org/starters/) — exemple de sites réalisés avec Gatsby
- [GraphQL](https://graphql.org/) — rendu graphique d’une base de données
- [CSS-in-JS](https://cssinjs.org/) — site officiel
- [PWA](https://medium.com/@deepusnath/4-points-to-keep-in-mind-before-introducing-progressive-web-apps-pwa-to-your-team-8dc66bcf6011) — application Web progressive
- [SEO](https://en.wikipedia.org/wiki/Searchengine_optimization) – optimisation de moteur de recherche
- [Markdown](https://www.markdownguide.org/) — écrire du texte pour des générateurs de sites
- [Mdx](https://mdxjs.com/getting-started/gatsby) — écrire du JavaScript dans du Markdown
- [Github](https://github.com/) — communauté de dépôt
- [API](https://en.wikipedia.org/wiki/Application_programming_interface) — Interface de programmation
- [Netlify](https://www.netlify.com/) — Déploiement (gratuit) et CMS (payant)
- [OVH](https://www.ovh.com/fr/) — Hébergeur populaire des noms de domaine en France

Retrouver le site sur mon dépôt [Github](https://github.com/joellesenne/joellesenne.xyz) pour en apprendre plus. J’espère que cet article vous a plu, en espérant vous revoir prochainement.
